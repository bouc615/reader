(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9cfdb744"],{"00a4":function(t,e,i){"use strict";var a=i("ccaa"),s=i.n(a);s.a},"00d3":function(t,e,i){"use strict";var a=i("7371"),s=i.n(a);s.a},"0d95":function(t,e,i){"use strict";var a=i("b9bb"),s=i.n(a);s.a},"354a":function(t,e,i){"use strict";var a=i("890f"),s=i.n(a);s.a},7371:function(t,e,i){},"74dc":function(t,e,i){"use strict";var a=i("db66"),s=i.n(a);s.a},7739:function(t,e,i){},"786d":function(t,e,i){},"7a23":function(t,e,i){"use strict";var a=i("786d"),s=i.n(a);s.a},"7b10":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("search-bar",{on:{showFlapCard:t.showFlapCard}}),i("scroll",{ref:"scroll",attrs:{top:94},on:{onScroll:t.onScroll}},[i("div",{staticClass:"banner-wrapper"},[i("div",{staticClass:"banner-img"})]),i("guess-you-like",{attrs:{data:t.guessYouLike}}),i("featured",{staticClass:"featured",attrs:{data:t.featured,titleText:t.$t("home.featured"),btnText:t.$t("home.seeAll")}}),i("recommend",{attrs:{data:t.recommend}}),t._l(t.categoryList,function(t,e){return i("div",{key:e,staticClass:"category-list-wrapper"},[i("category-book",{attrs:{data:t,idx:e}})],1)}),i("category",{staticClass:"categories",attrs:{data:t.categories}})],2),t.ifFlapCardShow?i("flap-card",{ref:"flapCard",attrs:{data:t.random},on:{close:t.closeFlapCard}}):t._e()],1)},s=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search-bar-wrapper",class:{"hide-title":!t.titleVisible,"title-shadow":t.isShowShadow}},[i("transition",{attrs:{name:"title-move"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.titleVisible,expression:"titleVisible"}],staticClass:"search-bar-title-wrapper"},[i("div",{staticClass:"title-text-wrapper"},[i("span",{staticClass:"title-text title"},[t._v(t._s(t.$t("home.title")))])]),i("div",{staticClass:"title-icon-shake-wrapper",on:{click:t.showFlapCard}},[i("span",{staticClass:"icon-shake icon"})])])]),i("div",{staticClass:"title-icon-back-wrapper",class:{"hide-title":!t.titleVisible},on:{click:t.back}},[i("span",{staticClass:"icon-back icon"})]),i("div",{staticClass:"search-input-wrapper",class:{"hide-title":!t.titleVisible}},[i("div",{staticClass:"search-bar-blank",class:{"hide-title":!t.titleVisible}}),i("div",{staticClass:"search-bar-input"},[i("span",{staticClass:"icon-search icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("home.hint")},domProps:{value:t.searchText},on:{click:t.showHotSearch,keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.search(e):null},input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])])],1),i("hot-search-list",{directives:[{name:"show",rawName:"v-show",value:t.hotSearchVisible,expression:"hotSearchVisible"}],ref:"hotSearch"})],1)},o=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"hot-search-move"}},[i("scroll",{ref:"scroll",staticClass:"hot-search-wrapper",attrs:{top:52},on:{onScroll:t.onScroll}},[i("hot-search",{attrs:{label:t.$t("home.hotSearch"),hotSearch:t.searchList.hotSearch}}),i("div",{staticClass:"line"})],1)],1)},c=[],l=i("6701"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"hot-search-title"},[i("span",{staticClass:"label"},[t._v(t._s(t.label))]),i("span",{staticClass:"btn"},[t._v(t._s(t.btn))])]),i("div",{staticClass:"hot-search-list"},t._l(t.hotSearch,function(e,a){return i("div",{key:a,staticClass:"hot-search-item"},[i("div",{staticClass:"icon-wrapper"},[1===e.type?i("span",{staticClass:"icon-book icon"}):t._e(),2===e.type?i("span",{staticClass:"icon-search icon"}):t._e()]),i("div",{staticClass:"hot-search-text-wrapper"},[i("div",{ref:"searchText",refInFor:!0,staticClass:"text"},[t._v(t._s(e.text))]),e.num?i("div",{staticClass:"num"},[t._v(t._s(e.num)+"人搜索")]):t._e()])])}),0)])},u=[],d=(i("ac6a"),i("fa7d")),f={props:{label:String,btn:String,hotSearch:Array},mounted:function(){this.$refs.searchText.forEach(function(t){t.style.width=window.innerWidth-Object(d["b"])(20)-Object(d["b"])(40)+"px"})}},p=f,m=(i("7a23"),i("2877")),v=Object(m["a"])(p,h,u,!1,null,"5f8e42dd",null),g=v.exports,C=i("ac0d"),b={mixins:[C["b"]],components:{Scroll:l["a"],HotSearch:g},data:function(){return{searchList:{hotSearch:[{type:1,text:"你不知道的JavaScript（上）",num:"8.0万"},{type:1,text:"你不知道的JavaScript（中）",num:"7.0万"},{type:1,text:"你不知道的JavaScript（下）",num:"6.0万"},{type:1,text:"JavaScript高级程序设计（第三版）",num:"5.0万"}],historySearch:[{type:2,text:"Computer Science"},{type:1,text:"Building the Infrastructure for Cloud Security"},{type:2,text:"ePub"},{type:2,text:"api"},{type:2,text:"Vue.js"},{type:2,text:"Nginx"},{type:2,text:"Java"},{type:2,text:"hdfs"},{type:2,text:"vuejs"},{type:2,text:"es6"},{type:2,text:"Intel"},{type:1,text:"Pro Git"},{type:2,text:"imooc"},{type:2,text:"Education"},{type:2,text:"Springer"},{type:2,text:"Environment"}]}}},methods:{onScroll:function(t){this.setHotSearchOffsetY(t)},reset:function(){this.$refs.scroll.scrollTo(0,0)}}},w=b,y=(i("ce26"),Object(m["a"])(w,n,c,!1,null,"d105b5ea",null)),k=y.exports,x={mixins:[C["b"]],components:{HotSearchList:k},data:function(){return{searchText:"",titleVisible:!0,isShowShadow:!1,hotSearchVisible:!1}},methods:{showTitle:function(){this.titleVisible=!0},hideTitle:function(){this.titleVisible=!1},showShadow:function(){this.isShowShadow=!0},hideShadow:function(){this.isShowShadow=!1},showHotSearch:function(){var t=this;this.hideTitle(),this.showShadow(),this.hotSearchVisible=!0,this.$nextTick(function(){t.$refs.hotSearch.reset()})},hideHotSearch:function(){this.hotSearchVisible=!1},back:function(){this.titleVisible?(this.hideHotSearch(),this.showTitle(),this.$router.go(-1)):(this.hideHotSearch(),this.showTitle())},showFlapCard:function(){this.$emit("showFlapCard")},search:function(){this.$router.push({path:"/store/list",query:{keyword:this.searchText}})}},watch:{offsetY:function(t){t>0?(this.hideTitle(),this.showShadow()):(this.showTitle(),this.hideShadow())},hotSearchOffsetY:function(t){t>0?this.showShadow():this.hideShadow()}}},S=x,_=(i("e4f3"),Object(m["a"])(S,r,o,!1,null,"97dc6f88",null)),T=_.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"guess-you-like"},[i("title-view",{attrs:{label:t.$t("home.guessYouLike"),btn:t.$t("home.change")},on:{onClick:t.change}}),this.data?i("div",{staticClass:"guess-you-like-list"},t._l(t.showData,function(e,a){return i("div",{key:a,staticClass:"guess-you-like-item",on:{click:function(i){return t.showBookDetail(e)}}},[i("div",{staticClass:"img-wrapper"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.cover,expression:"item.cover"}],key:e.cover,staticClass:"img"})]),i("div",{staticClass:"content-wrapper"},[i("div",{ref:"title",refInFor:!0,staticClass:"title title-big"},[t._v(t._s(e.title))]),i("div",{ref:"author",refInFor:!0,staticClass:"author sub-title"},[t._v(t._s(e.author))]),i("div",{ref:"result",refInFor:!0,staticClass:"result third-title"},[t._v(t._s(t.resultText(e)))])])])}),0):t._e()],1)},L=[],O=(i("a481"),i("9d2d")),F={mixins:[C["b"]],components:{TitleView:O["a"]},props:{data:{type:Array,default:function(){}}},watch:{data:function(t){this.total=t.length/3}},computed:{width:function(){return window.innerWidth-Object(d["b"])(20)-Object(d["b"])(60)+"px"},showData:function(){return this.data?[this.data[this.index],this.data[this.index+this.total],this.data[this.index+2*this.total]]:[]}},data:function(){return{index:0,total:0}},methods:{change:function(){this.index+1>=this.total?this.index=0:this.index++},resultText:function(t){if(t&&t.type&&t.result)switch(t.type){case 1:return this.$t("home.sameAuthor").replace("$1",t.result);case 2:return this.$t("home.sameReader").replace("$1",t.result);case 3:return this.$t("home.readPercent").replace("$1",t.percent).replace("$2",t.result)}},resize:function(){var t=this;this.$nextTick(function(){t.$refs.title.forEach(function(e){e.style.width=t.width}),t.$refs.author.forEach(function(e){e.style.width=t.width}),t.$refs.result.forEach(function(e){e.style.width=t.width})})}}},z=F,A=(i("74dc"),Object(m["a"])(z,$,L,!1,null,"78ad9e7a",null)),I=A.exports,j=i("3fef"),D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"category-book",class:{grey:t.idx%2==0}},[i("title-view",{attrs:{label:t.categoryText(t.data.category)}}),i("div",{staticClass:"category-book-list"},t._l(t.data.list,function(e,a){return i("div",{key:a,staticClass:"category-book-item",on:{click:function(i){return t.showBookDetail(e)}}},[i("div",{staticClass:"img-wrapper"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.cover,expression:"item.cover"}],staticClass:"img"})]),i("div",{staticClass:"content-wrapper"},[i("div",{ref:"title",refInFor:!0,staticClass:"title title-small"},[t._v(t._s(e.title))]),i("div",{ref:"author",refInFor:!0,staticClass:"num sub-title-tiny"},[t._v(t._s(e.author))])])])}),0),i("div",{staticClass:"btn-wrapper"},[i("div",{staticClass:"btn",class:{touch:t.ifOnTouch},on:{touchstart:t.onTouchStart,touchend:t.onTouchEnd,mousedown:t.onTouchStart,mouseup:t.onTouchEnd,click:t.click}},[t._v(t._s(t.$t("home.seeAll")))])])],1)},E=[],B=(i("c5f6"),i("5de6")),V={mixins:[C["b"]],components:{TitleView:O["a"]},props:{data:Object,idx:Number},data:function(){return{ifOnTouch:!1}},methods:{showBookCategory:function(){this.$router.push({path:"/store/list",query:{category:Object(B["f"])(this.data.category),categoryText:this.categoryText(this.data.category)}})},categoryText:function(t){return Object(B["d"])(t,this)},onTouchStart:function(){this.ifOnTouch=!0},onTouchEnd:function(){this.ifOnTouch=!1},click:function(){this.showBookCategory()}}},P=V,N=(i("841c"),Object(m["a"])(P,D,E,!1,null,"1228a218",null)),Y=N.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"category"},[i("title-view",{attrs:{label:t.$t("home.category")}}),i("div",{staticClass:"category-list"},[t._l(t.data,function(e,a){return i("div",{key:a,staticClass:"category-item-wrapper",on:{click:function(i){return t.showBookCategory(e)}}},[i("div",{staticClass:"category-item"},[i("div",{staticClass:"content-wrapper"},[i("div",{staticClass:"title title-medium"},[t._v(t._s(t.categoryText(e.category)))]),i("div",{staticClass:"num sub-title-tiny"},[t._v(t._s(e.num+" "+t.$t("home.books")))])]),i("div",{staticClass:"img-wrapper"},[i("div",{staticClass:"img-group"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img1,expression:"item.img1"}],staticClass:"img"}),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img2,expression:"item.img2"}],staticClass:"img2"})])])])])}),i("div",{staticClass:"btn-wrapper"},[i("div",{staticClass:"btn",class:{touch:t.ifOnTouch},on:{touchstart:t.onTouchStart,touchend:t.onTouchEnd,mousedown:t.onTouchStart,mouseup:t.onTouchEnd,click:t.click}},[t._v(t._s(t.$t("home.seeAll")))])])],2)],1)},R=[],J={components:{TitleView:O["a"]},props:{data:Array},data:function(){return{ifOnTouch:!1}},methods:{showBookCategory:function(t){this.$router.push({path:"/store/list",query:{category:Object(B["f"])(t.category),categoryText:this.categoryText(t.category)}})},categoryText:function(t){return Object(B["d"])(t,this)},showBookList:function(){this.$router.push("/store/list")},onTouchStart:function(){this.ifOnTouch=!0},onTouchEnd:function(){this.ifOnTouch=!1},click:function(){this.showBookList()}}},K=J,q=(i("0d95"),Object(m["a"])(K,H,R,!1,null,"7d3ba36d",null)),M=q.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flap-card-wrapper"},[t.ifShowFlapCard?i("div",{staticClass:"flap-card-bg",class:{animation:t.runFlapCardAnimation}},[t._l(t.flapCardList,function(e,a){return i("div",{key:a,staticClass:"flap-card",style:{zIndex:e.zIndex}},[i("div",{staticClass:"flap-card-semi-circle"},[i("div",{ref:"left",refInFor:!0,staticClass:"flap-card-semi-circle-left",style:t.semiCricelStyle(e,"left")}),i("div",{ref:"right",refInFor:!0,staticClass:"flap-card-semi-circle-right",style:t.semiCricelStyle(e,"right")})])])}),t.ifShowPoint?i("div",{staticClass:"point-wrapper"},t._l(t.pointList,function(e,a){return i("div",{key:a,staticClass:"point",class:{animation:t.runPointAnimation}})}),0):t._e()],2):t._e(),t.ifShowBookCard?i("div",{staticClass:"book-card",class:{animation:t.runBookCardAnimation}},[i("div",{staticClass:"book-card-wrapper"},[i("div",{staticClass:"img-wrapper"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.data.cover,expression:"data.cover"}],staticClass:"img"})]),i("div",{staticClass:"content-wrapper"},[i("div",{staticClass:"title"},[t._v(t._s(t.data.title))]),i("div",{staticClass:"author sub-title-medium"},[t._v(t._s(t.data.author))]),i("div",{staticClass:"category"},[t._v(t._s(t.categoryText()))])]),i("div",{staticClass:"read-btn",on:{click:function(e){return e.stopPropagation(),t.showBookDetail(e)}}},[t._v(t._s(t.$t("home.readNow")))])])]):t._e(),i("div",{staticClass:"close-btn-wrapper",on:{click:t.close}},[i("span",{staticClass:"icon-close"})])])},W=[],Q={props:{data:Object},data:function(){return{pointList:[],flapCardList:[{r:255,g:102,_g:102,b:159,imgLeft:"url("+i("c6db")+")",imgRight:"url("+i("5ca0")+")",backgroundSize:"50% 50%",zIndex:100,rotateDegree:0},{r:74,g:171,_g:171,b:255,imgLeft:"url("+i("6136")+")",imgRight:"url("+i("ff3b")+")",backgroundSize:"50% 50%",zIndex:99,rotateDegree:0},{r:255,g:198,_g:198,b:102,imgLeft:"url("+i("b477")+")",imgRight:"url("+i("2676")+")",backgroundSize:"50% 50%",zIndex:98,rotateDegree:0},{r:255,g:102,_g:102,b:159,imgLeft:"url("+i("8816")+")",imgRight:"url("+i("4609")+")",backgroundSize:"50% 50%",zIndex:97,rotateDegree:0},{r:59,g:201,_g:201,b:22,imgLeft:"url("+i("76b1")+")",imgRight:"url("+i("abb2")+")",backgroundSize:"50% 50%",zIndex:96,rotateDegree:0}],front:0,back:1,intervalTime:25,runPointAnimation:!1,runFlapCardAnimation:!1,runBookCardAnimation:!1,ifShowBookCard:!1,ifShowFlapCard:!0,ifShowPoint:!0}},methods:{showBookDetail:function(){this.data&&Object(B["i"])(this,this.data)},categoryText:function(){return Object(B["d"])(this.data.category,this)},close:function(){this.$emit("close")},startAnimation:function(){var t=this;this.runFlapCardAnimation=!0,setTimeout(function(){t.startFlapCardAnimation()},300),setTimeout(function(){t.startPointAnimation()},300),setTimeout(function(){t.stopAnimation(),t.showBookCard()},2500)},showBookCard:function(){this.ifShowBookCard=!0,this.runBookCardAnimation=!0,this.ifShowFlapCard=!1,this.ifShowPoint=!1},startPointAnimation:function(){var t=this;this.runPointAnimation=!0,setTimeout(function(){t.runPointAnimation=!1},750)},startFlapCardAnimation:function(){var t=this;this.prepare(),this.task=setInterval(function(){t.rotateSemiCircle()},this.intervalTime)},prepare:function(){var t=this.flapCardList[this.back],e=this.$refs.left[this.back];t.rotateDegree=180,t._g=t.g-45,this.rotate(t,e)},stopAnimation:function(){clearInterval(this.task),this.runFlapCardAnimation=!1,this.runPointAnimation=!1},reset:function(){var t=this,e=this.flapCardList[this.front],i=this.flapCardList[this.back],a=this.$refs.right[this.front],s=this.$refs.left[this.back];e.rotateDegree=0,i.rotateDegree=0,e._g=e.g,i._g=i.g,this.rotate(e,a),this.rotate(i,s),this.front++,this.back++,this.front>=this.flapCardList.length&&(this.front=0),this.back>=this.flapCardList.length&&(this.back=0);var r=this.flapCardList.length;this.flapCardList.forEach(function(e,i){e.zIndex=100-(i-t.front+r)%r}),this.prepare()},rotateSemiCircle:function(){var t=this.flapCardList[this.front],e=this.flapCardList[this.back],i=this.$refs.right[this.front],a=this.$refs.left[this.back];t.rotateDegree+=10,e.rotateDegree-=10,t.rotateDegree<90&&(t._g-=5),e.rotateDegree<90&&(e._g+=5),90===t.rotateDegree&&90===e.rotateDegree&&(e.zIndex+=2),this.rotate(t,i),this.rotate(e,a),180===t.rotateDegree&&0===e.rotateDegree&&this.reset()},rotate:function(t,e){e.style.transform="rotateY(".concat(t.rotateDegree,"deg)"),e.style.backgroundColor="rgb(".concat(t.r," ,").concat(t._g," ,").concat(t.b,")")},semiCricelStyle:function(t,e){return{backgroundColor:"rgb(".concat(t.r," ,").concat(t.g," ,").concat(t.b,")"),backgroundImage:"left"===e?t.imgLeft:t.imgRight,backgroundSize:t.backgroundSize}}},created:function(){for(var t=0;t<18;t++)this.pointList.push({})},mounted:function(){}},U=Q,X=(i("00a4"),Object(m["a"])(U,G,W,!1,null,"812c61ce",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend"},[i("title-view",{attrs:{label:t.$t("home.recommend")}}),i("div",{staticClass:"recommend-list"},t._l(t.data,function(e,a){return i("div",{key:a,staticClass:"recommend-item",on:{click:function(i){return t.showBookDetail(e)}}},[i("div",{staticClass:"img-wrapper"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.cover,expression:"item.cover"}],staticClass:"img"})]),i("div",{staticClass:"content-wrapper"},[i("div",{ref:"title",refInFor:!0,staticClass:"title title-medium"},[t._v(t._s(e.title))]),i("div",{ref:"num",refInFor:!0,staticClass:"num sub-title"},[t._v(t._s(t.$t("home.readers").replace("$1",e.readers)))])])])}),0)],1)},et=[],it={mixins:[C["b"]],components:{TitleView:O["a"]},props:{data:Array},data:function(){return{ifOnTouch:!1}},methods:{onTouchStart:function(){this.ifOnTouch=!0},onTouchEnd:function(){this.ifOnTouch=!1},click:function(){this.$emit("onClick")}}},at=it,st=(i("354a"),Object(m["a"])(at,tt,et,!1,null,"5604adec",null)),rt=st.exports,ot=i("73f5"),nt={name:"home",mixins:[C["b"]],components:{SearchBar:T,Scroll:l["a"],GuessYouLike:I,Recommend:rt,Featured:j["a"],CategoryBook:Y,Category:M,FlapCard:Z},data:function(){return{scrollTop:94,random:null,banner:null,guessYouLike:null,recommend:null,featured:null,categoryList:null,categories:null,ifFlapCardShow:!1,randomList:null}},mounted:function(){var t=this;Object(ot["b"])().then(function(e){if(e&&200===e.status){var i=e.data,a=Math.floor(Math.random()*i.random.length);t.random=i.random[a],t.banner=i.banner,t.guessYouLike=i.guessYouLike,t.recommend=i.recommend,t.featured=i.featured,t.categoryList=i.categoryList,t.categories=i.categories,t.randomList=i.random}})},methods:{onScroll:function(t){this.setOffsetY(t),this.scrollTop=t>0?52:94,this.$refs.scroll.refresh()},showFlapCard:function(){var t=this;this.ifFlapCardShow=!0;var e=parseInt(Math.random()*this.randomList.length);this.random=this.randomList[e],this.$nextTick(function(){t.$refs.flapCard.startAnimation()})},closeFlapCard:function(){this.$refs.flapCard.stopAnimation(),this.ifFlapCardShow=!1}}},ct=nt,lt=(i("00d3"),Object(m["a"])(ct,a,s,!1,null,"7cd439d2",null));e["default"]=lt.exports},"7fc7":function(t,e,i){},"841c":function(t,e,i){"use strict";var a=i("e464"),s=i.n(a);s.a},"890f":function(t,e,i){},b9bb:function(t,e,i){},ccaa:function(t,e,i){},ce26:function(t,e,i){"use strict";var a=i("7739"),s=i.n(a);s.a},db66:function(t,e,i){},e464:function(t,e,i){},e4f3:function(t,e,i){"use strict";var a=i("7fc7"),s=i.n(a);s.a}}]);
//# sourceMappingURL=chunk-9cfdb744.8807be88.js.map