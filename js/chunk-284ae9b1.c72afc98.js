(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-284ae9b1"],{"0a49":function(t,e,s){var i=s("9b43"),n=s("626a"),o=s("4bf8"),a=s("9def"),r=s("cd1c");t.exports=function(t,e){var s=1==t,c=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f,h=e||r;return function(e,r,p){for(var b,m,v=o(e),k=n(v),g=i(r,p,3),C=a(k.length),w=0,x=s?h(e,C):c?h(e,0):void 0;C>w;w++)if((d||w in k)&&(b=k[w],m=g(b,w,v),t))if(s)x[w]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return w;case 2:x.push(b)}else if(u)return!1;return f?-1:l||u?u:x}}},1169:function(t,e,s){var i=s("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"14c1":function(t,e,s){"use strict";var i=s("e7ea"),n=s.n(i);n.a},2472:function(t,e,s){},3018:function(t,e,s){},3570:function(t,e,s){},3846:function(t,e,s){s("9e1e")&&"g"!=/./g.flags&&s("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:s("0bfb")})},"3e3d":function(t,e,s){"use strict";var i=s("d25c"),n=s.n(i);n.a},"40a2":function(t,e,s){},4975:function(t,e,s){},"4bd0":function(t,e,s){"use strict";var i=s("40a2"),n=s.n(i);n.a},5150:function(t,e,s){},"51a1":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"ebookView",staticClass:"ebook"},[s("ebook-title"),s("ebook-reader"),s("ebook-menu"),s("ebook-bookmark"),s("ebook-footer")],1)},n=[],o=s("5158"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-down"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuVisible,expression:"menuVisible"}],staticClass:"title-wrapper"},[s("div",{staticClass:"left"},[s("span",{staticClass:"icon-back",on:{click:t.back}})]),s("div",{staticClass:"right"},[s("div",{staticClass:"icon-wrapper"},[s("span",{staticClass:"icon-more"})])])])])},r=[],c=s("ac0d"),l={mixins:[c["a"]],methods:{back:function(){this.$router.go(-1)}}},u=l,f=(s("f8a8"),s("2877")),d=Object(f["a"])(u,a,r,!1,null,"d975344e",null),h=d.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"slide-up"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuVisible,expression:"menuVisible"}],staticClass:"menu-wrapper",class:{"hide-box-shadow":!t.menuVisible||t.settingVisible>=0}},[s("div",{staticClass:"icon-wrapper"},[s("span",{staticClass:"icon-menu",on:{click:function(e){return t.showSetting(3)}}})]),s("div",{staticClass:"icon-wrapper"},[s("span",{staticClass:"icon-progress",on:{click:function(e){return t.showSetting(2)}}})]),s("div",{staticClass:"icon-wrapper"},[s("span",{staticClass:"icon-bright",on:{click:function(e){return t.showSetting(1)}}})]),s("div",{staticClass:"icon-wrapper"},[s("span",{staticClass:"icon-A",on:{click:function(e){return t.showSetting(0)}}})])])]),s("ebook-setting-font"),s("ebook-setting-font-popup"),s("ebook-setting-theme"),s("ebook-setting-progess"),s("ebook-slide")],1)},b=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-up"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuVisible&&0===t.settingVisible,expression:"menuVisible && settingVisible === 0"}],staticClass:"setting-wrapper"},[s("div",{staticClass:"setting-font-size"},[s("div",{staticClass:"preview",style:{fontSize:t.fontSizeList[0].fontSize+"px"}},[t._v("A")]),s("div",{staticClass:"select"},t._l(t.fontSizeList,function(e,i){return s("div",{key:i,staticClass:"select-wrapper",on:{click:function(s){return t.setFontSize(e.fontSize)}}},[s("div",{staticClass:"line"}),s("div",{staticClass:"point-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.defaultFontSize===e.fontSize,expression:"defaultFontSize === item.fontSize"}],staticClass:"point"},[s("div",{staticClass:"small-point"})])]),s("div",{staticClass:"line"})])}),0),s("div",{staticClass:"preview",style:{fontSize:t.fontSizeList[t.fontSizeList.length-1].fontSize+"px"}},[t._v("A")])]),s("div",{staticClass:"setting-font-family",on:{click:t.showFontFamilyPopup}},[s("div",{staticClass:"setting-font-family-text-wrapper"},[s("span",{staticClass:"setting-font-family-text"},[t._v(t._s(t.defaultFontFamily))])]),s("div",{staticClass:"setting-font-family-icon-wrapper"},[s("span",{staticClass:"icon-forward"})])])])])},v=[],k=s("5de6"),g=s("e8ec"),C={mixins:[c["a"]],data:function(){return{fontSizeList:k["b"]}},methods:{setFontSize:function(t){this.setDefaultFontSize(t),Object(g["j"])(this.fileName,t),this.currentBook.rendition.themes.fontSize(t)},showFontFamilyPopup:function(){this.setFontFamilyVisible(!0)}}},w=C,x=(s("14c1"),Object(f["a"])(w,m,v,!1,null,"0b43cf51",null)),y=x.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"popup-slide-up"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.fontFamilyVisible,expression:"fontFamilyVisible"}],staticClass:"ebook-popup-list"},[s("div",{staticClass:"ebook-popup-title"},[s("div",{staticClass:"ebook-popup-title-icon",on:{click:t.hide}},[s("span",{staticClass:"icon-down2"})]),s("span",{staticClass:"ebook-popup-title-text"},[t._v(t._s(t.$t("book.selectFont")))])]),s("div",{staticClass:"ebook-popup-list-wrapper"},t._l(t.fontFamilyList,function(e,i){return s("div",{key:i,staticClass:"ebook-popup-item",on:{click:function(s){return t.setFontFamily(e.font)}}},[s("div",{staticClass:"ebook-popup-item-text",class:{selected:t.isSelected(e)}},[t._v(t._s(e.font))]),t.isSelected(e)?s("div",{staticClass:"ebook-popup-item-check"},[s("span",{staticClass:"icon-check"})]):t._e()])}),0)])])},S=[],T={mixins:[c["a"]],data:function(){return{fontFamilyList:k["a"]}},methods:{setFontFamily:function(t){this.setDefaultFontFamily(t),Object(g["i"])(this.fileName,t),"Default"===t?this.currentBook.rendition.themes.font("Times New Roman"):this.currentBook.rendition.themes.font(t)},isSelected:function(t){return this.defaultFontFamily===t.font},hide:function(){this.setFontFamilyVisible(!1)}}},$=T,F=(s("ad75"),Object(f["a"])($,_,S,!1,null,"6e53713c",null)),V=F.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-up"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuVisible&&1===t.settingVisible,expression:"menuVisible && settingVisible === 1"}],staticClass:"setting-wrapper"},[s("div",{staticClass:"setting-theme"},t._l(t.themeList,function(e,i){return s("div",{key:i,staticClass:"setting-theme-item",on:{click:function(e){return t.setTheme(i)}}},[s("div",{staticClass:"preview",class:{selected:e.name===t.defaultTheme},style:{background:e.style.body.background}}),s("div",{staticClass:"text",class:{selected:e.name===t.defaultTheme}},[t._v(t._s(e.alias))])])}),0)])])},E=[],O=(s("7f7f"),{mixins:[c["a"]],methods:{setTheme:function(t){var e=this,s=this.themeList[t];this.setDefaultTheme(s.name).then(function(){e.currentBook.rendition.themes.select(e.defaultTheme),e.initGlobalStyle()}),Object(g["n"])(this.fileName,s.name)}}}),j=O,A=(s("7527"),Object(f["a"])(j,N,E,!1,null,"319a5804",null)),B=A.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-up"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuVisible&&2===t.settingVisible,expression:"menuVisible && settingVisible === 2"}],staticClass:"setting-wrapper"},[s("div",{staticClass:"setting-progress"},[s("div",{staticClass:"read-time-wrapper"},[s("span",{staticClass:"read-time-text"},[t._v(t._s(t.getReadTimeText()))]),s("span",{staticClass:"icon-forward"})]),s("div",{staticClass:"progress-wrapper"},[s("div",{staticClass:"progress-icon-wrapper",on:{click:function(e){return t.prevSection()}}},[s("span",{staticClass:"icon-back"})]),s("input",{ref:"progress",staticClass:"progress",attrs:{type:"range",max:"100",min:"0",step:"1",disabled:!t.bookAvailable},domProps:{value:t.progress},on:{change:function(e){return t.onProgressChange(e.target.value)},input:function(e){return t.onProgressInput(e.target.value)}}}),s("div",{staticClass:"progress-icon-wrapper",on:{click:function(e){return t.nextSection()}}},[s("span",{staticClass:"icon-forward"})])]),s("div",{staticClass:"text-wrapper"},[s("span",{staticClass:"progress-section-text"},[t._v(t._s(t.getSectionName))]),s("span",[t._v("("+t._s(t.bookAvailable?t.progress+"%":"加载中...")+")")])])])])])},P=[],L={mixins:[c["a"]],methods:{onProgressChange:function(t){var e=this;this.setProgress(t).then(function(){e.displayProgress(),e.updateProgressBg()})},onProgressInput:function(t){var e=this;this.setProgress(t).then(function(){e.updateProgressBg()})},displayProgress:function(){var t=this.currentBook.locations.cfiFromPercentage(this.progress/100);this.display(t)},updateProgressBg:function(){this.$refs.progress.style.backgroundSize="".concat(this.progress,"% 100%")},prevSection:function(){var t=this;this.section>0&&this.bookAvailable&&this.setSection(this.section-1).then(function(){t.displaySection()})},nextSection:function(){var t=this;this.section<this.currentBook.spine.length-1&&this.bookAvailable&&this.setSection(this.section+1).then(function(){t.displaySection()})},displaySection:function(){var t=this.currentBook.section(this.section);t&&t.href&&this.display(t.href)}},updated:function(){this.updateProgressBg()}},z=L,R=(s("d322"),Object(f["a"])(z,I,P,!1,null,"7cad5a0d",null)),W=R.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuVisible&&3===t.settingVisible,expression:"menuVisible && settingVisible === 3"}],staticClass:"slide-content-wrapper"},[s("transition",{attrs:{name:"slide-right"}},[3===t.settingVisible?s("div",{staticClass:"content"},[t.bookAvailable?s("div",{staticClass:"content-page-wrapper"},[s("div",{staticClass:"content-page"},[s(1===t.currentTab?t.content:t.bookmark,{tag:"component"})],1),s("div",{staticClass:"content-page-tab"},[s("div",{staticClass:"content-page-tab-item",class:{selected:1===t.currentTab},on:{click:function(e){return t.selectTab(1)}}},[t._v("\n              "+t._s(t.$t("book.navigation"))+"\n            ")]),s("div",{staticClass:"content-page-tab-item",class:{selected:2===t.currentTab},on:{click:function(e){return t.selectTab(2)}}},[t._v("\n              "+t._s(t.$t("book.bookmark"))+"\n            ")])])]):s("div",{staticClass:"content-empty"},[s("ebook-loading")],1)]):t._e()]),s("div",{staticClass:"content-bg",on:{click:function(e){return t.hideTitleAndMenu()}}})],1)])},D=[],H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ebook-slide-contents"},[s("div",{staticClass:"slide-contents-search-wrapper"},[s("div",{staticClass:"slide-contents-search-input-wrapper"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"slide-contents-search-input",attrs:{type:"text",placeholder:t.$t("book.searchHint")},domProps:{value:t.searchText},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.search()},click:t.showSearchPage,input:function(e){e.target.composing||(t.searchText=e.target.value)}}})]),t.searchVisible?s("div",{staticClass:"slide-contents-search-cancel",on:{click:function(e){return t.hideSearchPage()}}},[t._v(t._s(t.$t("book.cancel"))+"\n    ")]):t._e()]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.searchVisible,expression:"!searchVisible"}],staticClass:"slide-contents-book-wrapper"},[s("div",{staticClass:"slide-contents-book-img-wrapper"},[s("img",{staticClass:"slide-contents-book-img",attrs:{src:t.cover}})]),s("div",{staticClass:"slide-contents-book-info-wrapper"},[s("div",{staticClass:"slide-contents-book-title"},[s("span",{staticClass:"slide-contents-book-title-text"},[t._v(t._s(t.metadata.title))])]),s("div",{staticClass:"slide-contents-book-author"},[s("span",{staticClass:"slide-contents-book-author-text"},[t._v(t._s(t.metadata.creator))])])]),s("div",{staticClass:"slide-contents-book-progress-wrapper"},[s("div",{staticClass:"slide-contents-book-progress"},[s("span",{staticClass:"progress"},[t._v(t._s(t.progress+"%"))]),s("span",{staticClass:"progress-text"},[t._v(t._s(t.$t("book.haveRead2")))])]),s("div",{staticClass:"slide-contents-book-time"},[t._v(t._s(t.getReadTimeText()))])])]),s("scroll",{directives:[{name:"show",rawName:"v-show",value:!t.searchVisible,expression:"!searchVisible"}],staticClass:"slide-contents-list",attrs:{top:156,bottom:48}},t._l(t.navigation,function(e,i){return s("div",{key:i,staticClass:"slide-contents-item"},[s("span",{staticClass:"slide-contents-item-label",class:{selected:t.section===i},style:t.contentItemStyle(e),on:{click:function(s){return t.displayContent(e.href)}}},[t._v(t._s(e.label))]),s("span",{staticClass:"slide-contents-item-page"},[t._v(t._s(e.page))])])}),0),s("scroll",{directives:[{name:"show",rawName:"v-show",value:t.searchVisible,expression:"searchVisible"}],staticClass:"slide-search-list",attrs:{top:66,bottom:48}},t._l(t.searchList,function(e,i){return s("div",{key:i,staticClass:"slide-search-item",domProps:{innerHTML:t._s(e.excerpt)},on:{click:function(s){return t.displayContent(e.cfi,!0)}}})}),0)],1)},Y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slide-contents-search-icon"},[s("span",{staticClass:"icon-search"})])}],G=(s("7514"),s("ac6a"),s("5df3"),s("a481"),s("6701")),K=s("fa7d"),J={mixins:[c["a"]],components:{Scroll:G["a"]},data:function(){return{searchVisible:!1,searchList:null,searchText:""}},methods:{search:function(){var t=this;this.searchText&&this.searchText.length>0&&this.doSearch(this.searchText).then(function(e){t.searchList=e,t.searchList.map(function(e){return e.excerpt=e.excerpt.replace(t.searchText,'<span class="content-search-text">'.concat(t.searchText,"</span>")),e})})},doSearch:function(t){var e=this;return Promise.all(this.currentBook.spine.spineItems.map(function(s){return s.load(e.currentBook.load.bind(e.currentBook)).then(s.find.bind(s,t)).finally(s.unload.bind(s))})).then(function(t){return Promise.resolve([].concat.apply([],t))})},displayContent:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.display(t,function(){e.hideTitleAndMenu(),s&&e.currentBook.rendition.annotations.highlight(t)})},contentItemStyle:function(t){return{marginLeft:"".concat(Object(K["a"])(15*t.level),"rem")}},showSearchPage:function(){this.searchVisible=!0},hideSearchPage:function(){this.searchVisible=!1,this.searchText="",this.searchList=null}}},U=J,X=(s("9309"),Object(f["a"])(U,H,Y,!1,null,"2c6d96c1",null)),q=X.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ebook-slide-bookmark"},[s("div",{staticClass:"slide-bookmark-title"},[t._v(t._s(t.$t("book.bookmark"))+" · "+t._s(t.bookmark?t.bookmark.length:0))]),s("scroll",{staticClass:"slide-bookmark-list",attrs:{top:48,bottom:48}},t._l(t.bookmark,function(e,i){return s("div",{key:i,staticClass:"slide-bookmark-item",on:{click:function(s){return t.displayBookmark(e.cfi)}}},[s("div",{staticClass:"slide-bookmark-item-icon"},[s("div",{staticClass:"icon-bookmark"})]),s("div",{staticClass:"slide-bookmark-item-text"},[t._v(t._s(e.text))])])}),0)],1)},Z=[],tt={mixins:[c["a"]],components:{Scroll:G["a"]},data:function(){return{bookmark:null}},methods:{displayBookmark:function(t){var e=this;this.display(t,function(){e.hideTitleAndMenu()})}},mounted:function(){this.bookmark=Object(g["a"])(this.fileName)}},et=tt,st=(s("3e3d"),Object(f["a"])(et,Q,Z,!1,null,"0c600db4",null)),it=st.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ebook-loading"},[s("div",{staticClass:"ebook-loading-wrapper"},[t._l(t.data,function(e,i){return s("div",{key:i,staticClass:"ebook-loading-item"},t._l(e,function(t,e){return s("div",{key:e,staticClass:"ebook-loading-line-wrapper"},[s("div",{ref:"line",refInFor:!0,staticClass:"ebook-loading-line"}),s("div",{ref:"mask",refInFor:!0,staticClass:"ebook-loading-mask"})])}),0)}),s("div",{staticClass:"ebook-loading-center"})],2)])},ot=[],at={data:function(){return{data:[[{},{},{}],[{},{},{}]],maskWidth:[{value:0},{value:0},{value:0},{value:0},{value:0},{value:0}],lineWidth:[{value:16},{value:16},{value:16},{value:16},{value:16},{value:16}],add:!0,end:!1}},mounted:function(){var t=this;this.task=setInterval(function(){t.$refs.mask.forEach(function(e,s){var i=t.$refs.mask[s],n=t.$refs.line[s],o=t.maskWidth[s],a=t.lineWidth[s];if(0===s)t.add&&o.value<16?(o.value++,a.value--):!t.add&&a.value<16&&(o.value--,a.value++);else if(t.add&&o.value<16){var r=t.maskWidth[s-1];r.value>=8&&(o.value++,a.value--)}else if(!t.add&&a.value<16){var c=t.lineWidth[s-1];c.value>=8&&(o.value--,a.value++)}i.style.width="".concat(Object(K["a"])(o.value),"rem"),i.style.flex="0 0 ".concat(Object(K["a"])(o.value),"rem"),n.style.width="".concat(Object(K["a"])(a.value),"rem"),n.style.flex="0 0 ".concat(Object(K["a"])(a.value),"rem"),s===t.maskWidth.length-1&&(t.add?16===o.value&&(t.end=!0):0===o.value&&(t.end=!0)),t.end&&(t.add=!t.add,t.end=!1)})},20)}},rt=at,ct=(s("e862"),Object(f["a"])(rt,nt,ot,!1,null,"01bf164e",null)),lt=ct.exports,ut={mixins:[c["a"]],components:{EbookLoading:lt},data:function(){return{currentTab:1,content:q,bookmark:it}},methods:{selectTab:function(t){this.currentTab=t}}},ft=ut,dt=(s("eb90"),Object(f["a"])(ft,M,D,!1,null,"cd6962a4",null)),ht=dt.exports,pt={mixins:[c["a"]],components:{EbookSettingFont:y,EbookSettingFontPopup:V,EbookSettingTheme:B,EbookSettingProgess:W,EbookSlide:ht},methods:{showSetting:function(t){this.setSettingVisible(t)}}},bt=pt,mt=(s("fa4f"),Object(f["a"])(bt,p,b,!1,null,"10fe2288",null)),vt=mt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"bookmark",staticClass:"ebook-bookmark"},[s("div",{staticClass:"ebook-bookmark-text-wrapper"},[s("div",{ref:"iconDown",staticClass:"ebook-bookmark-down-wrapper"},[s("span",{staticClass:"icon-down"})]),s("div",{staticClass:"ebook-bookmark-text"},[t._v(t._s(t.text))])]),s("div",{staticClass:"ebook-bookmark-icon-wrapper",style:t.isFixed?t.fixedStyle:{}},[s("bookmark",{attrs:{color:t.color,width:15,height:35}})],1)])},gt=[],Ct=(s("6b54"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"bookmark",staticClass:"bookmark",style:t.style})}),wt=[],xt=(s("c5f6"),{props:{width:Number,height:Number,color:String},computed:{style:function(){return this.color?{borderColor:"".concat(this.color," ").concat(this.color," transparent ").concat(this.color)}:{}}},methods:{refresh:function(){this.height&&this.width&&(this.$refs.bookmark.style.borderWidth="".concat(Object(K["a"])(this.height-5),"rem ").concat(Object(K["a"])(this.width/2),"rem ").concat(Object(K["a"])(5),"rem ").concat(Object(K["a"])(this.width/2),"rem"))}},mounted:function(){this.refresh()}}),yt=xt,_t=(s("be93"),Object(f["a"])(yt,Ct,wt,!1,null,"8624f568",null)),St=_t.exports,Tt="#346cbc",$t="#fff",Ft={mixins:[c["a"]],components:{Bookmark:St},computed:{height:function(){return Object(K["b"])(35)},threshold:function(){return Object(K["b"])(55)},fixedStyle:function(){return{position:"fixed",top:0,right:"".concat((window.innerWidth-this.$refs.bookmark.clientWidth)/2,"px")}}},watch:{offsetY:function(t){!this.bookAvailable||this.menuVisible||this.settingVisible>=0||(t>=this.height&&t<this.threshold?this.beforeThreshold(t):t>=this.threshold?this.afterThreshold(t):t>0&&t<this.height?this.beforeHeight():0===t&&this.restore())},isBookmark:function(t){this.isFixed=t,this.color=t?Tt:$t}},data:function(){return{text:"",color:$t,isFixed:!1}},methods:{addBookmark:function(){var t=this;this.bookmark=Object(g["a"])(this.fileName),this.bookmark||(this.bookmark=[]);var e=this.currentBook.rendition.currentLocation(),s=e.start.cfi.replace(/!.*/,""),i=e.start.cfi.replace(/.*!/,"").replace(/\)$/,""),n=e.end.cfi.replace(/.*!/,"").replace(/\)$/,""),o="".concat(s,"!,").concat(i,",").concat(n,")");this.currentBook.getRange(o).then(function(s){var i=s.toString().replace(/\s\s/g,"");t.bookmark.push({cfi:e.start.cfi,text:i}),Object(g["h"])(t.fileName,t.bookmark)})},removeBookmark:function(){var t=this.currentBook.rendition.currentLocation(),e=t.start.cfi;this.bookmark=Object(g["a"])(this.fileName),this.bookmark&&(Object(g["h"])(this.fileName,this.bookmark.filter(function(t){return t.cfi!==e})),this.setIsBookmark(!1))},restore:function(){var t=this;setTimeout(function(){t.$refs.bookmark.style.top="".concat(-t.height,"px"),t.$refs.iconDown.style.transform="rotate(0deg)"},200),this.isFixed?(this.setIsBookmark(!0),this.addBookmark()):(this.setIsBookmark(!1),this.removeBookmark())},beforeHeight:function(){this.isBookmark?(this.text=this.$t("book.pulldownDeleteMark"),this.color=Tt,this.isFixed=!0):(this.text=this.$t("book.pulldownAddMark"),this.color=$t,this.isFixed=!1)},beforeThreshold:function(t){this.$refs.bookmark.style.top="".concat(-t,"px"),this.beforeHeight();var e=this.$refs.iconDown;"rotate(180deg)"===e.style.transform&&(e.style.transform="rotate(0deg)")},afterThreshold:function(t){this.$refs.bookmark.style.top="".concat(-t,"px"),this.isBookmark?(this.text=this.$t("book.releaseDeleteMark"),this.color=$t,this.isFixed=!1):(this.text=this.$t("book.releaseAddMark"),this.color=Tt,this.isFixed=!0);var e=this.$refs.iconDown;""!==e.style.transform&&"rotate(0deg)"!==e.style.transform||(e.style.transform="rotate(180deg)")}}},Vt=Ft,Nt=(s("f7bd"),Object(f["a"])(Vt,kt,gt,!1,null,"f7244fe0",null)),Et=Nt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ebook-footer"},[s("span",{staticClass:"ebook-footer-text"},[t._v(t._s(this.progress+"%"))])])},jt=[],At={mixins:[c["a"]]},Bt=At,It=(s("4bd0"),Object(f["a"])(Bt,Ot,jt,!1,null,"8432d51e",null)),Pt=It.exports,Lt={mixins:[c["a"]],components:{EbookReader:o["default"],EbookMenu:vt,EbookTitle:h,EbookBookmark:Et,EbookFooter:Pt},watch:{offsetY:function(t){this.menuVisible||(0===t?this.restore():t>0&&this.move(t))}},methods:{restore:function(){var t=this;this.$refs.ebookView.style.top=0,this.$refs.ebookView.style.transition="all .2s linear",setTimeout(function(){t.$refs.ebookView.style.transition=""},200)},move:function(t){this.$refs.ebookView.style.top=t+"px"},startLoopReadTime:function(){var t=this,e=Object(g["f"])(this.fileName);e||(e=0),this.task=setInterval(function(){e++,e%30==0&&Object(g["m"])(t.fileName,e)},1e3)}},mounted:function(){this.startLoopReadTime()},beforeDestroy:function(){this.task&&clearInterval(this.task)}},zt=Lt,Rt=(s("5889"),Object(f["a"])(zt,i,n,!1,null,"1dd8b5ce",null));e["default"]=Rt.exports},5333:function(t,e,s){},5889:function(t,e,s){"use strict";var i=s("e517"),n=s.n(i);n.a},"5dbc":function(t,e,s){var i=s("d3f4"),n=s("8b97").set;t.exports=function(t,e,s){var o,a=e.constructor;return a!==s&&"function"==typeof a&&(o=a.prototype)!==s.prototype&&i(o)&&n&&n(t,o),t}},6701:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",class:{"no-scroll":t.ifNoScroll},on:{"&scroll":function(e){return t.handleScroll(e)}}},[t._t("default")],2)},n=[],o=(s("c5f6"),s("fa7d")),a={props:{top:{type:Number,default:0},bottom:{type:Number,default:0},ifNoScroll:{type:Boolean,default:!1}},methods:{handleScroll:function(t){var e=t.target.scrollTop||window.pageYOffset||document.body.scrollTop;this.$emit("onScroll",e)},scrollTo:function(t,e){this.$refs.scrollWrapper.scrollTo(t,e)},refresh:function(){this.$refs.scrollWrapper&&(this.$refs.scrollWrapper.style.height=window.innerHeight-Object(o["b"])(this.top)-Object(o["b"])(this.bottom)+"px",this.$refs.scrollWrapper.addEventListener("scroll",this.handleScroll))}},mounted:function(){this.refresh()}},r=a,c=(s("b636"),s("2877")),l=Object(c["a"])(r,i,n,!1,null,"3de2ab06",null);e["a"]=l.exports},"6b54":function(t,e,s){"use strict";s("3846");var i=s("cb7c"),n=s("0bfb"),o=s("9e1e"),a="toString",r=/./[a],c=function(t){s("2aba")(RegExp.prototype,a,t,!0)};s("79e5")(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?c(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?n.call(t):void 0)}):r.name!=a&&c(function(){return r.call(this)})},7514:function(t,e,s){"use strict";var i=s("5ca1"),n=s("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(o)},7527:function(t,e,s){"use strict";var i=s("f781"),n=s.n(i);n.a},"8b97":function(t,e,s){var i=s("d3f4"),n=s("cb7c"),o=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=s("9b43")(Function.call,s("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,s){return o(t,s),e?t.__proto__=s:i(t,s),t}}({},!1):void 0),check:o}},"90eb":function(t,e,s){},9309:function(t,e,s){"use strict";var i=s("2472"),n=s.n(i);n.a},aa77:function(t,e,s){var i=s("5ca1"),n=s("be13"),o=s("79e5"),a=s("fdef"),r="["+a+"]",c="​",l=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),f=function(t,e,s){var n={},r=o(function(){return!!a[t]()||c[t]()!=c}),l=n[t]=r?e(d):a[t];s&&(n[s]=l),i(i.P+i.F*r,"String",n)},d=f.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},ad75:function(t,e,s){"use strict";var i=s("90eb"),n=s.n(i);n.a},b636:function(t,e,s){"use strict";var i=s("5150"),n=s.n(i);n.a},be93:function(t,e,s){"use strict";var i=s("f3f0"),n=s.n(i);n.a},c5f6:function(t,e,s){"use strict";var i=s("7726"),n=s("69a8"),o=s("2d95"),a=s("5dbc"),r=s("6a99"),c=s("79e5"),l=s("9093").f,u=s("11e9").f,f=s("86cc").f,d=s("aa77").trim,h="Number",p=i[h],b=p,m=p.prototype,v=o(s("2aeb")(m))==h,k="trim"in String.prototype,g=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=k?e.trim():d(e,3);var s,i,n,o=e.charCodeAt(0);if(43===o||45===o){if(s=e.charCodeAt(2),88===s||120===s)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+e}for(var a,c=e.slice(2),l=0,u=c.length;l<u;l++)if(a=c.charCodeAt(l),a<48||a>n)return NaN;return parseInt(c,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof p&&(v?c(function(){m.valueOf.call(s)}):o(s)!=h)?a(new b(g(e)),s,p):g(e)};for(var C,w=s("9e1e")?l(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)n(b,C=w[x])&&!n(p,C)&&f(p,C,u(b,C));p.prototype=m,m.constructor=p,s("2aba")(i,h,p)}},c6f4:function(t,e,s){},cd1c:function(t,e,s){var i=s("e853");t.exports=function(t,e){return new(i(t))(e)}},d25c:function(t,e,s){},d322:function(t,e,s){"use strict";var i=s("3570"),n=s.n(i);n.a},d894:function(t,e,s){},e517:function(t,e,s){},e7ea:function(t,e,s){},e853:function(t,e,s){var i=s("d3f4"),n=s("1169"),o=s("2b4c")("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},e862:function(t,e,s){"use strict";var i=s("c6f4"),n=s.n(i);n.a},eb90:function(t,e,s){"use strict";var i=s("4975"),n=s.n(i);n.a},f3f0:function(t,e,s){},f781:function(t,e,s){},f7bd:function(t,e,s){"use strict";var i=s("5333"),n=s.n(i);n.a},f8a8:function(t,e,s){"use strict";var i=s("3018"),n=s.n(i);n.a},fa4f:function(t,e,s){"use strict";var i=s("d894"),n=s.n(i);n.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-284ae9b1.c72afc98.js.map