(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56fd1044"],{"07ca":function(t,e,n){},"28a5":function(t,e,n){"use strict";var i=n("aae3"),o=n("cb7c"),r=n("ebd6"),a=n("0390"),s=n("9def"),c=n("5f1b"),u=n("520a"),f=n("79e5"),h=Math.min,l=[].push,d="split",b="length",m="lastIndex",p=4294967295,g=!f(function(){RegExp(p,"y")});n("214f")("split",2,function(t,e,n,f){var v;return v="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[b]||2!="ab"[d](/(?:ab)*/)[b]||4!="."[d](/(.?)(.?)/)[b]||"."[d](/()()/)[b]>1||""[d](/.?/)[b]?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(o,t,e);var r,a,s,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?p:e>>>0,g=new RegExp(t.source,f+"g");while(r=u.call(g,o)){if(a=g[m],a>h&&(c.push(o.slice(h,r.index)),r[b]>1&&r.index<o[b]&&l.apply(c,r.slice(1)),s=r[0][b],h=a,c[b]>=d))break;g[m]===r.index&&g[m]++}return h===o[b]?!s&&g.test("")||c.push(""):c.push(o.slice(h)),c[b]>d?c.slice(0,d):c}:"0"[d](void 0,0)[b]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var o=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,o,i):v.call(String(o),n,i)},function(t,e){var i=f(v,t,this,e,v!==n);if(i.done)return i.value;var u=o(t),l=String(this),d=r(u,RegExp),b=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(g?"y":"g"),y=new d(g?u:"^(?:"+u.source+")",m),k=void 0===e?p:e>>>0;if(0===k)return[];if(0===l.length)return null===c(y,l)?[l]:[];var O=0,S=0,j=[];while(S<l.length){y.lastIndex=g?S:0;var P,w=c(y,g?l:l.slice(S));if(null===w||(P=h(s(y.lastIndex+(g?0:S)),l.length))===O)S=a(l,S,b);else{if(j.push(l.slice(O,S)),j.length===k)return j;for(var x=1;x<=w.length-1;x++)if(j.push(w[x]),j.length===k)return j;S=O=P}}return j.push(l.slice(O)),j}]})},"385c":function(t,e,n){"use strict";(function(t){n("28a5"),n("5df3"),n("ac6a"),n("7f7f");var i=n("ac0d"),o=n("bb38"),r=n("e8ec"),a=n("5de6");t.ePub=o["a"],e["a"]={mixins:[i["a"]],methods:{onMouseEnd:function(t){2===this.mouseState?(this.setOffsetY(0),this.firstOffsetY=null,this.mouseState=3):this.mouseState=4;var e=t.timeStamp-this.mouseStartTime;e<100&&(this.mouseState=4),t.preventDefault(),t.stopPropagation()},onMouseMove:function(t){if(1===this.mouseState)this.mouseState=2;else if(2===this.mouseState){var e=0;this.firstOffsetY?(e=t.clientY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.clientY}t.preventDefault(),t.stopPropagation()},onMouseEnter:function(t){this.mouseState=1,this.mouseStartTime=t.timeStamp,t.preventDefault(),t.stopPropagation()},move:function(t){var e=0;this.firstOffsetY?(e=t.changedTouches[0].clientY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.changedTouches[0].clientY,t.preventDefault(),t.stopPropagation()},moveEnd:function(){this.setOffsetY(0),this.firstOffsetY=null},onMaskClick:function(t){if(!this.mouseState||2!==this.mouseState&&3!==this.mouseState){var e=t.offsetX,n=window.innerWidth;e>0&&e<.3*n?this.prevPage():e>0&&e>.7*n?this.nextPage():this.toggleTitleAndMenu()}},prevPage:function(){var t=this;this.rendition&&(this.rendition.prev().then(function(){t.refreshLocation()}),this.hideTitleAndMenu())},nextPage:function(){var t=this;this.rendition&&(this.rendition.next().then(function(){t.refreshLocation()}),this.hideTitleAndMenu())},toggleTitleAndMenu:function(){this.menuVisible&&(this.setSettingVisible(-1),this.setFontFamilyVisible(!1)),this.setMenuVisible(!this.menuVisible)},initFontSize:function(){var t=Object(r["c"])(this.fileName);t?(this.rendition.themes.fontSize(t),this.setDefaultFontSize(t)):Object(r["j"])(this.fileName,this.defaultFontSize)},initFontFamily:function(){var t=Object(r["b"])(this.fileName);t?(this.rendition.themes.font(t),this.setDefaultFontFamily(t)):Object(r["i"])(this.fileName,this.defaultFontFamily)},initTheme:function(){var t=this,e=Object(r["g"])(this.fileName);e||(e=this.themeList[0].name,Object(r["n"])(this.fileName,e)),this.setDefaultTheme(e),this.themeList.forEach(function(e){t.rendition.themes.register(e.name,e.style)}),this.rendition.themes.select(e)},initRendition:function(){var t=this;this.rendition=this.book.renderTo("read",{width:innerWidth,height:innerHeight,method:"default"});var e=Object(r["e"])(this.fileName);this.display(e,function(){t.initTheme(),t.initFontSize(),t.initFontFamily(),t.initGlobalStyle()}),this.rendition.hooks.content.register(function(t){Promise.all([t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/daysOne.css")),t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/cabin.css")),t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/montserrat.css")),t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/tangerine.css"))]).then(function(){})})},initGesture:function(){var t=this;this.rendition.on("touchstart",function(e){t.touchStartX=e.changedTouches[0].clientX,t.touchStartTime=e.timeStamp}),this.rendition.on("touchend",function(e){var n=e.changedTouches[0].clientX-t.touchStartX,i=e.timeStamp-t.touchStartTime;i<500&&n>40?t.prevPage():i<500&&n<-40?t.nextPage():t.toggleTitleAndMenu(),e.preventDefault(),e.stopPropagation()})},parseBook:function(){var t=this;this.book.loaded.cover.then(function(e){t.book.archive.createUrl(e).then(function(e){t.setCover(e)})}),this.book.loaded.metadata.then(function(e){t.setMetadata(e)}),this.book.loaded.navigation.then(function(e){var n=Object(a["e"])(e.toc);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.parent?i(n.filter(function(e){return e.id===t.parent})[0],++e):e}n.forEach(function(t){t.level=i(t)}),t.setNavigation(n)})},initEpub:function(){var t=this,e="http://47.99.166.157/epub/"+this.fileName+".epub";this.book=new o["a"](e),this.setCurrentBook(this.book),this.initRendition(),this.parseBook(),this.book.ready.then(function(){return t.book.locations.generate(window.innerWidth/375*750*(Object(r["c"])(t.fileName)/16))}).then(function(){t.setBookAvailable(!0),t.refreshLocation()})}},mounted:function(){var t=this;this.setFileName(this.$route.params.fileName.split("|").join("/")).then(function(){t.initEpub()})}}}).call(this,n("c8ba"))},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"456d":function(t,e,n){var i=n("4bf8"),o=n("0d58");n("5eda")("keys",function(){return function(t){return o(i(t))}})},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},5158:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ebook-reader"},[n("div",{attrs:{id:"read"}},[this.bookAvailable?t._e():n("p",{staticClass:"loading-tip"},[t._v("网速较慢..请稍等一会儿！(┬_┬)")])]),n("div",{staticClass:"ebook-reader-mask",on:{click:t.onMaskClick,touchmove:t.move,touchend:t.moveEnd,mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.onMouseEnter(e)},mousemove:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.onMouseMove(e)},mouseup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.onMouseEnd(e)}}})])},o=[],r=n("385c"),a=r["a"],s=(n("5183"),n("2877")),c=Object(s["a"])(a,i,o,!1,null,"7f003c8a",null);e["default"]=c.exports},5183:function(t,e,n){"use strict";var i=n("07ca"),o=n.n(i);o.a},"5de6":function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return u}),n.d(e,"f",function(){return f}),n.d(e,"d",function(){return h}),n.d(e,"k",function(){return l}),n.d(e,"c",function(){return d}),n.d(e,"h",function(){return m}),n.d(e,"g",function(){return p}),n.d(e,"e",function(){return g});var i=n("75fc"),o=n("e8ec"),r=n("fa7d"),a=[{fontSize:12},{fontSize:14},{fontSize:16},{fontSize:18},{fontSize:20},{fontSize:22},{fontSize:24}],s=[{font:"Default"},{font:"Cabin"},{font:"Days One"},{font:"Montserrat"},{font:"Tangerine"}];function c(t,e){t.$router.push({path:"/store/detail",query:{fileName:e.fileName,category:e.categoryText}})}function u(t){"en"===t.$i18n.locale?t.$i18n.locale="cn":t.$i18n.locale="en",Object(o["o"])("locale",t.$i18n.locale)}function f(t){switch(t){case 1:return"ComputerScience";case 2:return"SocialSciences";case 3:return"Economics";case 4:return"Education";case 5:return"Engineering";case 6:return"Environment";case 7:return"Geography";case 8:return"History";case 9:return"Laws";case 10:return"LifeSciences";case 11:return"Literature";case 12:return"Biomedicine";case 13:return"BusinessandManagement";case 14:return"EarthSciences";case 15:return"MaterialsScience";case 16:return"Mathematics";case 17:return"MedicineAndPublicHealth";case 18:return"Philosophy";case 19:return"Physics";case 20:return"PoliticalScienceAndInternationalRelations";case 21:return"Psychology";case 22:return"Statistics"}}function h(t,e){switch(t){case 1:return e.$t("category.computerScience");case 2:return e.$t("category.socialSciences");case 3:return e.$t("category.economics");case 4:return e.$t("category.education");case 5:return e.$t("category.engineering");case 6:return e.$t("category.environment");case 7:return e.$t("category.geography");case 8:return e.$t("category.history");case 9:return e.$t("category.laws");case 10:return e.$t("category.lifeSciences");case 11:return e.$t("category.literature");case 12:return e.$t("category.biomedicine");case 13:return e.$t("category.businessandManagement");case 14:return e.$t("category.earthSciences");case 15:return e.$t("category.materialsScience");case 16:return e.$t("category.mathematics");case 17:return e.$t("category.medicineAndPublicHealth");case 18:return e.$t("category.philosophy");case 19:return e.$t("category.physics");case 20:return e.$t("category.politicalScienceAndInternationalRelations");case 21:return e.$t("category.psychology");case 22:return e.$t("category.statistics")}}function l(t){return[{alias:t.$t("book.themeDefault"),name:"Default",style:{body:{color:"#4c5059",background:"#cecece","padding-top":"".concat(Object(r["b"])(48),"px!important"),"padding-bottom":"".concat(Object(r["b"])(48),"px!important")}}},{alias:t.$t("book.themeGold"),name:"Gold",style:{body:{color:"#5c5b56",background:"#c6c2b6","padding-top":"".concat(Object(r["b"])(48),"px!important"),"padding-bottom":"".concat(Object(r["b"])(48),"px!important")}}},{alias:t.$t("book.themeEye"),name:"Eye",style:{body:{color:"#404c42",background:"#a9c1a9","padding-top":"".concat(Object(r["b"])(48),"px!important"),"padding-bottom":"".concat(Object(r["b"])(48),"px!important")}}},{alias:t.$t("book.themeNight"),name:"Night",style:{body:{color:"#cecece",background:"#000000","padding-top":"".concat(Object(r["b"])(48),"px!important"),"padding-bottom":"".concat(Object(r["b"])(48),"px!important")}}}]}function d(t){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(e)}function b(t){for(var e=document.getElementsByTagName("link"),n=e.length;n>=0;n--){var i=e[n];i&&i.getAttribute("href")&&i.getAttribute("href")===t&&i.parentNode.removeChild(i)}}function m(){b("".concat("http://47.99.166.157/book/res","/theme/theme_default.css")),b("".concat("http://47.99.166.157/book/res","/theme/theme_eye.css")),b("".concat("http://47.99.166.157/book/res","/theme/theme_gold.css")),b("".concat("http://47.99.166.157/book/res","/theme/theme_night.css"))}function p(t){var e=Object(o["f"])(t);return e?Math.ceil(e/60):0}function g(t){var e;return(e=[]).concat.apply(e,Object(i["a"])(t.map(function(t){var e;return(e=[]).concat.apply(e,[t].concat(Object(i["a"])(g(t.subitems))))})))}},"5df3":function(t,e,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},"5eda":function(t,e,n){var i=n("5ca1"),o=n("8378"),r=n("79e5");t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",a)}},"7f7f":function(t,e,n){var i=n("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,a="name";a in o||n("9e1e")&&i(o,a,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"85f2":function(t,e,n){t.exports=n("454f")},"8e6e":function(t,e,n){var i=n("5ca1"),o=n("990b"),r=n("6821"),a=n("11e9"),s=n("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,i=r(t),c=a.f,u=o(i),f={},h=0;while(u.length>h)n=c(i,e=u[h++]),void 0!==n&&s(f,e,n);return f}})},"990b":function(t,e,n){var i=n("9093"),o=n("2621"),r=n("cb7c"),a=n("7726").Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(r(t)),n=o.f;return n?e.concat(n(t)):e}},ac0d:function(t,e,n){"use strict";n("8e6e"),n("ac6a"),n("456d"),n("a481");var i=n("85f2"),o=n.n(i);function r(t,e,n){return e in t?o()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n("591a"),s=n("5de6"),c=n("e8ec");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}n.d(e,"b",function(){return h}),n.d(e,"a",function(){return l});var h={computed:f({},Object(a["c"])(["offsetY","hotSearchOffsetY"])),methods:f({},Object(a["b"])(["setOffsetY","setHotSearchOffsetY"]),{showBookDetail:function(t){Object(s["i"])(this,t)}})},l={computed:f({},Object(a["c"])(["fileName","menuVisible","settingVisible","defaultFontSize","defaultFontFamily","fontFamilyVisible","defaultTheme","bookAvailable","progress","section","isPaginating","currentBook","navigation","cover","metadata","paginate","pagelist","offsetY","isBookmark"]),{themeList:function(){return Object(s["k"])(this)},getSectionName:function(){return this.section?this.navigation[this.section].label:""}}),methods:f({},Object(a["b"])(["setFileName","setMenuVisible","setSettingVisible","setDefaultFontSize","setDefaultFontFamily","setFontFamilyVisible","setDefaultTheme","setBookAvailable","setProgress","setSection","setIsPaginating","setCurrentBook","setNavigation","setCover","setMetadata","setPaginate","setPagelist","setOffsetY","setIsBookmark"]),{initGlobalStyle:function(){switch(Object(s["h"])(),this.defaultTheme){case"Default":Object(s["c"])("".concat("http://47.99.166.157/book/res","/theme/theme_default.css"));break;case"Eye":Object(s["c"])("".concat("http://47.99.166.157/book/res","/theme/theme_eye.css"));break;case"Gold":Object(s["c"])("".concat("http://47.99.166.157/book/res","/theme/theme_gold.css"));break;case"Night":Object(s["c"])("".concat("http://47.99.166.157/book/res","/theme/theme_night.css"));break;default:Object(s["c"])("".concat("http://47.99.166.157/book/res","/theme/theme_default.css"));break}},refreshLocation:function(){var t=this.currentBook.rendition.currentLocation();if(t&&t.start){var e=t.start.cfi,n=this.currentBook.locations.percentageFromCfi(e);this.setProgress(Math.floor(100*n)),this.setSection(t.start.index),Object(c["l"])(this.fileName,e);var i=Object(c["a"])(this.fileName);if(i&&i.some(function(t){return t.cfi===e})?this.setIsBookmark(!0):this.setIsBookmark(!1),this.pagelist){var o=this.pagelist.length,r=t.start.location;r&&r>0?this.setPaginate(r+" / "+o):this.setPaginate("")}else this.setPaginate("")}},display:function(t,e){var n=this;t?this.currentBook.rendition.display(t).then(function(){n.refreshLocation(),e&&e()}):this.currentBook.rendition.display().then(function(){n.refreshLocation(),e&&e()})},hideTitleAndMenu:function(){this.setMenuVisible(!1),this.setSettingVisible(-1),this.setFontFamilyVisible(!1)},getReadTimeText:function(){return this.$t("book.haveRead").replace("$1",Object(s["g"])(this.fileName))}})}},f1ae:function(t,e,n){"use strict";var i=n("86cc"),o=n("4630");t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}}}]);
//# sourceMappingURL=chunk-56fd1044.30245911.js.map